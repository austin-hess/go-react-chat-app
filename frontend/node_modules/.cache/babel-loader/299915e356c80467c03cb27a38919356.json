{"ast":null,"code":"class ChatroomConnection {\n  constructor(roomId) {\n    console.trace();\n    this.setMessageHandler = this.setMessageHandler.bind(this);\n    this.socket = new WebSocket(`ws://localhost:8080/ws/${roomId}`);\n    console.log(\"Attempting Connection...\");\n\n    this.socket.onopen = () => {\n      console.log(\"Successfully connected!\");\n    };\n\n    this.socket.onmessage = msg => {\n      console.log(msg);\n\n      if (this.messageHandler) {\n        this.messageHandler(msg);\n      }\n    };\n\n    this.socket.onclose = event => {\n      console.log(\"Socket closed connection \", event);\n    };\n\n    this.socket.onerror = err => {\n      console.log(\"Socket error: \", err);\n    };\n  }\n\n  setMessageHandler(handler) {\n    this.messageHandler = handler;\n  }\n\n  sendMessage(msg) {\n    console.log(`Sending message: ${msg}`);\n    this.socket.send(msg);\n  }\n\n  end() {\n    // Normal closure\n    this.socket.close(1000);\n  }\n\n}\n\nexport default ChatroomConnection;","map":{"version":3,"sources":["/Users/austinhess/Development/projects/go-react/frontend/src/api/ChatroomConnection/ChatroomConnection.js"],"names":["ChatroomConnection","constructor","roomId","console","trace","setMessageHandler","bind","socket","WebSocket","log","onopen","onmessage","msg","messageHandler","onclose","event","onerror","err","handler","sendMessage","send","end","close"],"mappings":"AAAA,MAAMA,kBAAN,CAAyB;AACrBC,EAAAA,WAAW,CAACC,MAAD,EAAS;AAChBC,IAAAA,OAAO,CAACC,KAAR;AACA,SAAKC,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBC,IAAvB,CAA4B,IAA5B,CAAzB;AACA,SAAKC,MAAL,GAAc,IAAIC,SAAJ,CAAe,0BAAyBN,MAAO,EAA/C,CAAd;AACAC,IAAAA,OAAO,CAACM,GAAR,CAAY,0BAAZ;;AACA,SAAKF,MAAL,CAAYG,MAAZ,GAAqB,MAAM;AACvBP,MAAAA,OAAO,CAACM,GAAR,CAAY,yBAAZ;AACH,KAFD;;AAGA,SAAKF,MAAL,CAAYI,SAAZ,GAAyBC,GAAD,IAAS;AAC7BT,MAAAA,OAAO,CAACM,GAAR,CAAYG,GAAZ;;AACA,UAAI,KAAKC,cAAT,EAAyB;AACrB,aAAKA,cAAL,CAAoBD,GAApB;AACH;AACJ,KALD;;AAMA,SAAKL,MAAL,CAAYO,OAAZ,GAAuBC,KAAD,IAAW;AAC7BZ,MAAAA,OAAO,CAACM,GAAR,CAAY,2BAAZ,EAAyCM,KAAzC;AACH,KAFD;;AAGA,SAAKR,MAAL,CAAYS,OAAZ,GAAuBC,GAAD,IAAS;AAC3Bd,MAAAA,OAAO,CAACM,GAAR,CAAY,gBAAZ,EAA8BQ,GAA9B;AACH,KAFD;AAGH;;AAEDZ,EAAAA,iBAAiB,CAACa,OAAD,EAAU;AACvB,SAAKL,cAAL,GAAsBK,OAAtB;AACH;;AAEDC,EAAAA,WAAW,CAACP,GAAD,EAAM;AACbT,IAAAA,OAAO,CAACM,GAAR,CAAa,oBAAmBG,GAAI,EAApC;AACA,SAAKL,MAAL,CAAYa,IAAZ,CAAiBR,GAAjB;AACH;;AAEDS,EAAAA,GAAG,GAAG;AACF;AACA,SAAKd,MAAL,CAAYe,KAAZ,CAAkB,IAAlB;AACH;;AAnCoB;;AAsCzB,eAAetB,kBAAf","sourcesContent":["class ChatroomConnection {\n    constructor(roomId) {\n        console.trace();\n        this.setMessageHandler = this.setMessageHandler.bind(this);\n        this.socket = new WebSocket(`ws://localhost:8080/ws/${roomId}`);\n        console.log(\"Attempting Connection...\");\n        this.socket.onopen = () => {\n            console.log(\"Successfully connected!\");\n        };\n        this.socket.onmessage = (msg) => {\n            console.log(msg);\n            if (this.messageHandler) {\n                this.messageHandler(msg);\n            }\n        };\n        this.socket.onclose = (event) => {\n            console.log(\"Socket closed connection \", event);\n        };\n        this.socket.onerror = (err) => {\n            console.log(\"Socket error: \", err);\n        };\n    }\n\n    setMessageHandler(handler) {\n        this.messageHandler = handler;\n    }\n\n    sendMessage(msg) {\n        console.log(`Sending message: ${msg}`);\n        this.socket.send(msg);\n    }\n\n    end() {\n        // Normal closure\n        this.socket.close(1000);\n    }\n}\n\nexport default ChatroomConnection;"]},"metadata":{},"sourceType":"module"}